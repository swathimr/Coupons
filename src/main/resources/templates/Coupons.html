<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Coupons For you HomePage</title>
<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" href="../static/css/bootstrap.min.css"  />
<link rel="stylesheet" th:href="@{/css/carousel.css}" href="../static/css/carousel.css"/>
</head>
<body>

<script>
  // This is called with the results from from FB.getLoginStatus().
  function statusChangeCallback(response) {
    console.log('statusChangeCallback');
    console.log(response);
    
    if (response.status === 'connected') {
      testAPI();
    } else if (response.status === 'not_authorized') {
      document.getElementById('status').innerHTML = 'Please log ' +
        'into this app.';
    } else {
      document.getElementById('status').innerHTML = 'Please log ' +
        'into Facebook.';
    }
  }

  function checkLoginState() {
    FB.getLoginStatus(function(response) {
      statusChangeCallback(response);
    });
  }
  
  window.fbAsyncInit = function() {
  FB.init({
    appId      : '794328207319399',
    cookie     : true,  // enable cookies to allow the server to access 
                        // the session
    xfbml      : true,  // parse social plugins on this page
    version    : 'v2.2' // use version 2.2
  });

  };

  // Load the SDK asynchronously
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/sdk.js";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));

  // Here we run a very simple test of the Graph API after login is
  // successful.  See statusChangeCallback() for when this call is made.
  function testAPI() {
    console.log('Welcome!  Fetching your information.... ');
    FB.api('/me', function(response) {
      console.log('Successful login for: ' + response.name);
      document.getElementById('status').innerHTML =
        'Thanks for logging in, ' + response.name + '!';
      
      document.getElementById("fbemail").value=response.email;
      document.getElementById("fbname").value=response.name;
      document.getElementById("fbform").action="coupons/users/fblogin";
      $( "#fbform" ).submit();
    });
  }
 
</script>

<div class="navbar-wrapper">
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container-fluid">

	    <div class="navbar-header">
	       <a class="navbar-brand" href="#" style="color:white"><strong>Coupons 4 U</strong></a>
	    </div>
    
     	<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
	      <ul class="nav navbar-nav navbar-right">
			<li><a href="#" data-toggle="modal" data-target="#signupModal"><strong>Sign Up</strong></a></li>
	        <li><a href="#" data-toggle="modal" data-target="#myModal"><strong>Login</strong></a></li>
	       <li><a href="#" th:href="@{/about}"><strong>About Us</strong></a></li>
	        
	      </ul>
    	</div>   
	 </div><!-- container-fluid -->
 </nav>
 </div>
    <!-- Carousel
    ================================================== -->
    <div id="myCarousel" class="carousel slide" data-ride="carousel">
      <!-- Indicators -->
      <ol class="carousel-indicators">
        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#myCarousel" data-slide-to="1"></li>
      </ol>
      <div class="carousel-inner" role="listbox">
        <div class="item active">
          <img class="first-slide" src="/images/shopping-bags.jpg" alt="First slide"/>
          <div class="container">
            <div class="carousel-caption">
              <h1>Coupons Online</h1>
              <p>Get Coupons of your favorite shops</p>
            </div>
          </div>
        </div>
        <div class="item">
          <img class="second-slide" src="/images/shopping.jpeg" alt="Second slide"/>
          <div class="container">
            <div class="carousel-caption">
              <h1>Print and Download Coupons</h1>
              <p>Check out the coupons by shops</p>
              <p><a class="btn btn-lg btn-primary" href="#" role="button">Learn more</a></p>
            </div>
          </div>
        </div>
      </div>
      <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
 <center><h1><strong>Enjoy Shopping Using Online Coupons</strong></h1></center><br/>
 <center><h3><strong>Get New And Exciting Coupons</strong></h3></center>
 

<div id="myModal" class="modal fade" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
    <div class="col-md-7 col-md-offset-2">
      <div class="modal-content">

        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="myModalLabel"><strong>Login</strong></h4>
        </div>
        <div class="modal-body">
          <!-- <fb:login-button size="large" scope="public_profile,email" onlogin="checkLoginState();"></fb:login-button>onclick="checkLoginState(); -->
       <!--  <div class="col-md-11"> -->
        <form action="" id="fbform" role="form" method="post">
        <input type="hidden" name="email" id="fbemail"/>
        <input type="hidden" name="name" id="fbname"/>
       <fb:login-button size="large" id="u_0_1" scope="public_profile,email" login-text="Log in with Facebook" onlogin="checkLoginState();"></fb:login-button>
       &emsp;&emsp;<strong>(or)</strong>
       </form>
		<div id="status"></div>
		<!-- </div> -->
		<br/>		
         <!-- <button type="submit" class="btn btn-primary" style="margin-left:30%">Login using Facebook</button><hr/> -->
          <form action="coupons/users/login" id="loginform" class="form-horizontal" role="form" method="post">
			 <div class="form-group">
				 <div class="col-md-12">
				    <input type="email" class="form-control" name="email" id="email" placeholder="Email Address" />
				 </div>
			</div>
			<div class="form-group">
				 <div class="col-md-12">
				    <input type="password" class="form-control" name="password" id="password" placeholder="Password" />
				 </div>
			</div>
			<div class="checkbox">
	          <label>
	            <input type="checkbox" value="remember-me"/> Remember me
	          </label>
        </div><br/>
        <button type="submit" class="btn btn-block btn-primary" id="new" style="background-color:#ff5a5f;border-color:#ff5a5f;">Login</button>
        <!-- <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button> -->
		</form> 			  
        </div>

      </div><!-- /.modal-content -->
      </div>
    </div><!-- /.modal-dialog -->
  </div>
  
  <!-- Sign up modal -->
 <div id="signupModal" class="modal fade" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
    <div class="col-md-7 col-md-offset-2">
      <div class="modal-content">

        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="myModalLabel"><strong>Sign up</strong></h4>
        </div>
        <div class="modal-body">
          <!-- <fb:login-button size="large" scope="public_profile,email" onlogin="checkLoginState();"></fb:login-button>onclick="checkLoginState(); -->
        <form action="" id="fbform" role="form" method="post">
        <input type="hidden" name="email" id="fbemail"/>
        <input type="hidden" name="name" id="fbname"/>
       <fb:login-button size="large" id="u_0_1" scope="public_profile,email" login-text="Log in with Facebook" onlogin="checkLoginState();"></fb:login-button>
       &emsp;&emsp;<strong>(or)</strong></form>
		<div id="status"></div>
		<br/>	
		
         <!-- <button type="submit" class="btn btn-primary" style="margin-left:30%">Login using Facebook</button><hr/> -->
          <form action="coupons/users/signup" id="signupform" class="form-horizontal" role="form" method="post">
          <div class="form-group">
				 <div class="col-md-12">
				    <input type="text" class="form-control" name="name" id="name" placeholder="Enter your name"/>
				 </div>
			</div>
			 <div class="form-group">
				 <div class="col-md-12">
				    <input type="email" class="form-control" name="email" id="email" placeholder="Email Address" />
				 </div>
			</div>
			<div class="form-group">
				 <div class="col-md-12">
				    <input type="password" class="form-control" name="password" id="password" placeholder="Password" />
				 </div>
			</div>
        <button type="submit" class="btn btn-block btn-primary" id="new" style="background-color:#ff5a5f;border-color:#ff5a5f;">Sign Up</button>
        <!-- <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button> -->
		</form> 			  
        </div>

      </div><!-- /.modal-content -->
      </div>
    </div><!-- /.modal-dialog -->
  </div>
  

<hr class="featurette-divider"/>

      <div class="row featurette">
        <div class="col-md-4 col-md-offset-3">
          <h1>Get Coupons By Location</h1>
          <p class="lead">Enter your zip code and find coupons available in your location.Use and Share coupons with one or multiple friends </p>
        </div>
        <div class="col-md-4">
          <img class="featurette-image img-responsive center-block" src="/images/thumb1.jpg" width="40%" height="40%" alt="coupon by location thumbnail"/>
        </div>
      </div> 

      <hr class="featurette-divider"/>

       <div class="row featurette">
       <div class="col-md-4 col-md-offset-2">
          <img class="featurette-image img-responsive center-block" src="/images/cart.png" width="30%" height="30%" alt="By Shops thumbnail"/>
        </div>
        <div class="col-md-4 col-md-offset-1">
          <h2>Favorite Shops</h2>
          <p class="lead">Get coupons by your favorite shops or upload them.<br/>Save money Instantly and enjoy shopping.Also view most popular coupons and statistics which has the mos success rate</p>
        </div>
      </div>

      <hr class="featurette-divider"/> 
<footer class="footer">
      <div class="container">
        <p class="text-muted"><hr/><center>Copy Rights - Team 21 Site,inc 2015</center></p>
      </div>
    </footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src ="/js/bootstrap.min.js"></script>
<script>
$('#myModal').on('show.bs.modal', function () {
	$(this).find('#loginform')[0].reset();
	})
	
$('#signupModal').on('show.bs.modal', function () {
	$(this).find('#signupform')[0].reset();
	})
</script>
</body>
</html>